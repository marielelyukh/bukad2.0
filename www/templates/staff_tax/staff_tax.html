<ion-view view-title="{{'Taxes.title_workers'|translate}}" class="staff_tax">
    <ion-content>
        <form>
            <div layout="row" style="margin-top: 20px" layout-align="space-between center">
                <h4>{{'Taxes.count_workers'|translate}}<br><span style="color: #666666; font-size: 1em">{{'Taxes.max_count'|translate}}</span> </h4>
              <span style="height: 25px; width: 25px;"><span style="margin-left: 5px; color: #666666;"><b>{{vm.data.count_workers}}</b></span></span>
            </div>

            <div layout="row" ng-repeat="input in vm.salary track by $index" layout-align="space-between center">
                <h4>{{$index+1}}</h4>
                <md-input-container class="md-block" flex>
                <input aria-label="123" style="margin-left: 20px; width: 80%;"  ng-model="vm.salary[$index]" type="number">
            </md-input-container>
            <h4>ЗП, грн</h4>
                <i ng-show="vm.salary.length >= 2"
                   ng-click="removeInput($index)"
                   style="margin-left: 15px;  color: grey" class="icon fa fa-close " aria-hidden="true"></i>
              </div>

          <div class="link" layout="row" layout-align="end center">
            <md-button md-no-ink ng-click="vm.saveWorkers()"  ng-disabled="!vm.salary"
                       class="md-primary" style="font-size: 17px">{{'Taxes.saveWorkers'|translate}}</md-button>
          </div>

            <div layout="row" style="margin-top: 10px;" layout-align="space-between center">

              <md-button class="md-raised"
                         style="background-color: grey; color: white;"
                         aria-label="true"
                         ng-class="vm.salary.length < 1 ? 'calculate' : ''"
                         ng-disabled="vm.salary.length < 1"
                         ng-click="vm.getTaxData()">
                {{'Taxes.calculate_data'|translate}}
              </md-button>

                <md-button class="md-icon-button"
                           aria-label="true"
                           ng-click="addInput()"
                           ng-show="vm.data.count_workers < 10">

                    <md-icon md-font-icon="fa fa-plus fa-lg" aria-hidden="true"></md-icon>
                </md-button>
            </div>

            <div>
                <label style="color: #666666; font-size: 1em;">Фонд ЗП, грн</label>
                <md-input-container class="md-block" flex>
                    <input aria-label="123" disabled ng-model="vm.tmp.fond" type="text" >
                </md-input-container>
            </div>
            <div style="margin-top: -25px">
                <label style="color: #666666; font-size: 1em;">{{'Taxes.esv_workers'|translate}}</label>
                <md-input-container class="md-block" flex>
                    <input
                      style="margin-top: -15px"
                      aria-label="123" disabled ng-model="vm.tmp.esv_tax" type="text" >
                </md-input-container>
            </div>
            <div style="margin-top: -25px">
                <label style="color: #666666; font-size: 1em;">{{'Taxes.army_sum'|translate}}</label>
                <md-input-container class="md-block" flex>
                    <input
                      style="margin-top: -15px"
                      aria-label="123" disabled ng-model="vm.tmp.army_tax" type="text" >
                </md-input-container>
            </div>
            <div style="margin-top: -25px">
                <label style="color: #666666; font-size: 1em;">{{'Taxes.income_tax'|translate}}</label>
                <md-input-container class="md-block" flex>
                    <input style="margin-top: -15px"
                           aria-label="123" disabled ng-model="vm.tmp.income_tax" type="text" >
                </md-input-container>
            </div>

            <div style="margin-top: -25px">
                <label style="color: #666666; font-size: 1em;">{{'Taxes.sum_for_all'|translate}}</label>
                <md-input-container class="md-block" flex>
                    <input style="margin-top: -15px"
                           aria-label="123" disabled ng-model="vm.tmp.sum" type="text" >
                </md-input-container>
            </div>
          <div layout="column"
               layout-align="center end"
               class="link" layout-margin>
            <div class="link">
              <md-button md-no-ink ng-disabled="!vm.tmp"
                         ui-sref="app.list_of_staffTax
                         ({staff_tax: vm.data, values: vm.tmp, data_salary: vm.salary, count_workers: vm.data.count_workers})"
                         class="md-primary" style="font-size: 17px" type="submit">{{'SignUp.continue'|translate}}</md-button>

              <!--<a style="text-decoration: none" ui-sref="app.list_of_staffTax({staff_tax: vm.data, values: vm.tmp, data_salary: vm.salary, count_workers: vm.data.count_workers})">{{'SignUp.continue'|translate}}</a>-->
            </div>
          </div>

        </form>


    </ion-content>
</ion-view>
